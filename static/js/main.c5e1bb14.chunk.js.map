{"version":3,"sources":["components/Header.js","components/QueuedSongList.js","graphQL/queries.js","components/SongPlayer.js","graphQL/subscriptions.js","graphQL/mutations.js","components/SongList.js","components/AddSong.js","reducer.js","App.js","theme.js","graphQL/client.js","index.js"],"names":["makeStyles","theme","title","marginLeft","spacing","Header","useStyles","avatar","width","height","text","textOverflow","overflow","container","display","gridAutoFlow","gridTemplateColumns","gridGap","alignItems","marginTop","songInfoContainer","whiteSpace","QueuedSong","song","artist","thumbnail","classes","className","Avatar","src","Typography","variant","color","IconButton","Delete","QueuedSongList","queue","useMediaQuery","breakpoints","up","style","margin","map","key","id","GET_QUEUED_SONGS","gql","justifyContent","details","flexDirection","padding","content","flex","controls","paddingLeft","paddingRight","playIcon","SongPlayer","data","useQuery","useContext","SongContext","state","dispatch","Card","CardContent","component","SkipPrevious","onClick","isPlaying","type","Pause","PlayArrow","SkipNext","Slider","min","max","step","CardMedia","image","GET_SONGS","ADD_OR_REMOVE_FROM_QUEUE","ADD_SONG","songInfo","objectFit","Song","useState","currentSongPlaying","setCurrentSongPlaying","useMutation","addOrRemoveFromQueue","useEffect","isSongPlaying","gutterBottom","CardActions","payload","size","variables","input","__typename","Save","SongList","useSubscription","loading","error","CircularProgress","songs","urLInput","addSongButton","dialog","textAlign","DEFAULT_SONG","duration","AddSong","url","setUrl","addSong","playable","setPlayable","setDialog","setSong","handleCloseDialog","a","player","nestedPlayer","getVideoData","songData","getYouTubeInfo","getCurrentSound","getSoundCloudInfo","getDuration","video_id","author","Promise","resolve","Number","user","username","artwork_url","replace","length","console","handleError","field","graphQLErrors","extensions","path","includes","handleChangeSong","e","target","name","value","prevSong","isPlayable","SoundcloudPlayer","canPlay","YoutubePlayer","Dialog","open","onClose","DialogTitle","DialogContent","alt","TextField","onChange","label","fullWidth","helperText","DialogActions","Button","placeholder","InputProps","startAdornment","InputAdornment","position","Link","disabled","preventDefault","endIcon","AddBoxOutlined","hidden","onReady","songReducer","action","React","createContext","displayName","App","initialSongState","useReducer","greaterThanSM","greaterThanMd","Provider","Grid","paddingTop","item","xs","md","top","right","left","bottom","createMuiTheme","palette","primary","teal","secondary","purple","client","ApolloClient","link","WebSocketLink","uri","options","reconnect","cache","InMemoryCache","typeDefs","resolvers","Mutation","_","queryResult","readQuery","query","newQueue","some","filter","writeQuery","ReactDOM","render","StrictMode","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.c5e1bb14.chunk.js","sourcesContent":["import React from 'react';\nimport { AppBar, Toolbar, Typography, makeStyles } from '@material-ui/core';\nimport HeadsetTwoToneIcon from '@material-ui/icons/HeadsetTwoTone';\n\n// Material UI allows to make a custom hook for each of our components, it will make it easy to pass own custom styles throughout the app\n\n//makestyles function - holds all of the individual styles that I have for each part of the component\n\n\n// Accepts an object\nconst useStyles = makeStyles(theme => ({\n    title: {\n        // marginLeft: '8px',\n        marginLeft: theme.spacing(2),\n    }\n}));\n\nfunction Header() {\n    const classes = useStyles();\n\n    return (\n        // Header now has a primary color of teal comes from theme file\n        <AppBar color=\"primary\" position='fixed'>\n            <Toolbar>\n                <HeadsetTwoToneIcon />\n                <Typography className={classes.title} variant=\"h6\" component=\"h1\">\n                    Apollo Music Share\n                </Typography>\n            </Toolbar>\n        </AppBar>\n    );\n}\n\nexport default Header;","import React from 'react';\nimport { Typography, Avatar, IconButton, makeStyles, useMediaQuery } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\n\nfunction QueuedSongList({ queue }) {\n\n    const greaterThanMd = useMediaQuery(theme => theme.breakpoints.up('md'));\n\n    // const song = {\n    //     title: \"LUNE\",\n    //     artist: \"MOON\",\n    //     thumbnail: \"https://picsum.photos/id/237/100/100\"\n    // }\n\n    return greaterThanMd && (\n        <div style={{ margin: '10px 0' }}>\n            <Typography color=\"textSecondary\" variant=\"button\">\n                QUEUE (5)\n            </Typography>\n            {queue.map(song => (\n                <QueuedSong key={song.id} song={song} />\n            ))}\n        </div>\n    )\n}\n\nconst useStyles = makeStyles({\n    avatar: {\n        width: 44,\n        height: 44,\n    },\n    text: {\n        textOverflow: 'ellipsis',\n        overflow: 'hidden'\n    },\n    container: {\n        display: 'grid',\n        gridAutoFlow: 'column',\n        gridTemplateColumns: '50px auto 50px',\n        gridGap: 12,\n        alignItems: 'center',\n        marginTop: 10\n    },\n    songInfoContainer: {\n        overflow: 'hidden',\n        whiteSpace: 'nowrap'\n    }\n})\n\nfunction QueuedSong({ song }) {\n    const { title, artist, thumbnail } = song;\n    const classes = useStyles();\n\n    return (\n        <div className={classes.container}>\n            <Avatar src={thumbnail} className={classes.avatar} />\n            <div className={classes.songInfoContainer}>\n                <Typography className={classes.text} variant=\"subtitle2\">\n                    {title}\n                </Typography>\n                <Typography className={classes.text} color=\"textSecondary\" variant=\"body2\">\n                    {artist}\n                </Typography>\n            </div>\n            <IconButton>\n                <Delete color=\"error\" />\n            </IconButton>\n        </div>\n    );\n\n}\n\nexport default QueuedSongList;\n","import { gql } from '@apollo/client';\n\n// @client annotation tells apollo to perform this query only on the client query\n\n\nexport const GET_QUEUED_SONGS = gql`\nquery getQueuedSongs {\n    queue @client {\n        id\n        duration\n        title\n        artist\n        thumbnail\n        url\n    }\n}\n`;","import React, { useContext } from 'react';\nimport QueuedSongList from './QueuedSongList';\nimport { Card, CardContent, Typography, IconButton, Slider, CardMedia, makeStyles } from '@material-ui/core';\nimport { SkipPrevious, PlayArrow, SkipNext, Pause } from '@material-ui/icons';\nimport { SongContext } from '../App';\nimport { useQuery } from '@apollo/client';\nimport { GET_QUEUED_SONGS } from '../graphQL/queries';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n        padding: '0px 15px',\n    },\n    content: {\n        flex: '1 0 auto',\n    },\n    thumbnail: {\n        width: 150,\n    },\n    controls: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1)\n    },\n    playIcon: {\n        height: 38,\n        width: 38\n    }\n}))\n\nfunction SongPlayer() {\n    const { data } = useQuery(GET_QUEUED_SONGS);\n    const { state, dispatch } = useContext(SongContext);\n    const classes = useStyles();\n\n\n    function handleTogglePlay() {\n        // Toggle state\n        dispatch(state.isPlaying ? { type: \"PAUSE_SONG\" } : { type: \"PLAY_SONG\" })\n    }\n\n    return (\n        <>\n            <Card variant=\"outlined\" className={classes.container}>\n                <div className={classes.details}>\n                    <CardContent className={classes.content}>\n                        <Typography variant=\"h5\" component=\"h3\">\n                            {state.song.title}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" component=\"p\" color=\"textSecondary\">\n                            {state.song.title}\n                        </Typography>\n                    </CardContent>\n                    <div className={classes.controls}>\n                        <IconButton>\n                            <SkipPrevious />\n                        </IconButton>\n                        <IconButton onClick={handleTogglePlay}>\n                            {/* Toggle icons */}\n                            {state.isPlaying ? <Pause className={classes.playIcon} /> : <PlayArrow className={classes.playIcon} />}\n                        </IconButton>\n                        <IconButton>\n                            <SkipNext />\n                        </IconButton>\n                        <Typography variant=\"subtitle1\" component=\"p\" color=\"textSecondary\">\n                            00:01:30\n                        </Typography>\n                    </div>\n                    <Slider\n                        type=\"range\"\n                        min={0}\n                        max={1}\n                        step={0.01}\n                    />\n                </div>\n                <CardMedia\n                    className={classes.thumbnail}\n                    image={state.song.thumbnail}\n                />\n            </Card>\n            <QueuedSongList queue={data.queue} />\n        </>\n    )\n}\n\nexport default SongPlayer;","import { gql } from '@apollo/client';\n// All graphQL queries live here\n\nexport const GET_SONGS = gql`\nsubscription getSongs {\n    songs(order_by: {created_at: desc}){\n        artist\n        duration\n        id\n        thumbnail\n        title\n        url\n    }\n  }\n`;\n\n","import { gql } from '@apollo/client';\n\n//Instead of using all individual arguments will bring in an input\n\nexport const ADD_OR_REMOVE_FROM_QUEUE = gql`\nmutation addOrRemoveFromQueue($input: SongInput!){\n  addOrRemoveFromQueue(input: $input) @client\n}\n`;\n\nexport const ADD_SONG = gql`\nmutation addSong($title: String!, $artist: String!, $thumbnail: String!, $duration: Float!, $url: String!) {\n    insert_songs(objects: {url: $url, title: $title, thumbnail: $thumbnail, duration: $duration, artist: $artist}) {\n      affected_rows\n    }\n  }\n`;\n\n// export default ADD_SONG;","import React, { useContext, useEffect, useState } from 'react';\nimport { CircularProgress, Card, CardMedia, CardContent, Typography, CardActions, IconButton, makeStyles } from '@material-ui/core';\nimport { PlayArrow, Save, Pause } from '@material-ui/icons';\nimport { useSubscription, useMutation } from '@apollo/client';\nimport { GET_SONGS } from '../graphQL/subscriptions';\nimport { SongContext } from '../App';\nimport { ADD_OR_REMOVE_FROM_QUEUE } from '../graphQL/mutations';\n\nfunction SongList() {\n    // Remove loading variable instead use hook useQuery\n    // let loading = false;\n\n    const { data, loading, error } = useSubscription(GET_SONGS);\n\n\n    // If true show loading spinner\n    if (loading) {\n        return (\n            <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                marginTop: 50\n            }}>\n                <CircularProgress />\n            </div>\n        );\n    }\n\n    if (error) return <div>Error fetching songs</div>\n\n    return <div>{data.songs.map(song => (\n        <Song key={song.id} song={song} />\n    ))}</div>;\n}\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        margin: theme.spacing()\n    },\n    songInfoContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    songInfo: {\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    thumbnail: {\n        objectFit: 'cover',\n        width: 140,\n        height: 140\n    }\n}))\n\nfunction Song({ song }) {\n    const { title, artist, thumbnail, id } = song;\n    const [currentSongPlaying, setCurrentSongPlaying] = useState(false);\n    const { state, dispatch } = useContext(SongContext);\n    const [addOrRemoveFromQueue] = useMutation(ADD_OR_REMOVE_FROM_QUEUE);\n\n    useEffect(() => {\n        const isSongPlaying = state.isPlaying && id === state.song.id;\n        setCurrentSongPlaying(isSongPlaying);\n    }, [id, state.isPlaying, state.song.id])\n\n    const classes = useStyles();\n\n    function handleTogglePlay() {\n        dispatch({ type: \"SET_SONG\", payload: { song } })\n\n        dispatch(state.isPlaying ? { type: \"PAUSE_SONG\" } : { type: \"PLAY_SONG\" })\n    }\n\n    function handleAddOrRemoveFromQueue() {\n        // __typename field which provides the name of the type we're working with\n        addOrRemoveFromQueue({\n            variables: { input: { ...song, __typename: \"Song\" } },\n        })\n    }\n\n    return (\n        <Card className={classes.container}>\n            <div className={classes.songInfoContainer}>\n                <CardMedia className={classes.thumbnail} image={thumbnail} />\n                <div className={classes.songInfo}>\n                    <CardContent >\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                            {title}\n                        </Typography>\n                        <Typography variant=\"body1\" component=\"p\" color=\"textSecondary\">\n                            {artist}\n                        </Typography>\n                    </CardContent>\n                    <CardActions>\n                        <IconButton onClick={handleTogglePlay} size=\"small\" color=\"primary\">\n                            {currentSongPlaying ? <Pause /> : <PlayArrow />}\n                        </IconButton>\n                        <IconButton onClick={handleAddOrRemoveFromQueue} size=\"small\" color=\"secondary\">\n                            <Save color=\"secondary\" />\n                        </IconButton>\n                    </CardActions>\n                </div>\n            </div>\n        </Card>\n    )\n}\n\nexport default SongList;","import React, { useState, useEffect } from 'react';\nimport QueuedSongList from './QueuedSongList';\nimport {\n    TextField,\n    InputAdornment,\n    Button,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    makeStyles,\n    duration\n} from '@material-ui/core';\nimport { Link, AddBoxOutlined } from '@material-ui/icons';\nimport SoundcloudPlayer from 'react-player/lib/players/SoundCloud';\nimport YoutubePlayer from 'react-player/lib/players/YouTube';\nimport ReactPlayer from 'react-player';\nimport { ADD_SONG } from '../graphQL/mutations';\nimport { useMutation } from '@apollo/client';\n\n// Custom styles \nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: \"flex\",\n        alignItems: 'center'\n    },\n    urLInput: {\n        margin: theme.spacing(1),\n    },\n    addSongButton: {\n        margin: theme.spacing(1),\n    },\n    dialog: {\n        textAlign: 'center'\n    },\n    thumbnail: {\n        width: '90%'\n    }\n\n}))\n\nconst DEFAULT_SONG = {\n    duration: 0,\n    title: \"\",\n    artist: \"\",\n    thumbnail: \"\"\n}\n\nfunction AddSong() {\n    const [url, setUrl] = useState('');\n    // Distract a 2 value 'error data' from useMutation, now it's available for everything within return\n    const [addSong, { error }] = useMutation(ADD_SONG);\n    const [playable, setPlayable] = useState(false);\n    const classes = useStyles();\n    const [dialog, setDialog] = useState(false);\n    const [song, setSong] = useState(DEFAULT_SONG);\n\n    // Returns error object where more info about error and validation\n    // console.dir(error);\n\n    useEffect(() => {\n        const isPlayable = SoundcloudPlayer.canPlay(url) || YoutubePlayer.canPlay(url);\n\n        setPlayable(isPlayable);\n    }, [url])\n\n\n    // Open dialog\n    function handleDialog(e) {\n        e.preventDefault();\n        setDialog(true);\n    }\n\n    function handleUrlChange(e) {\n        setUrl(e.target.value);\n    }\n\n    // Close dialog\n    function handleCloseDialog() {\n        setDialog(false);\n    }\n\n    async function handleEditSong({ player }) {\n        const nestedPlayer = player.player.player;\n        let songData;\n\n        if (nestedPlayer.getVideoData) {\n            songData = getYouTubeInfo(nestedPlayer);\n        } else if (nestedPlayer.getCurrentSound) {\n            songData = await getSoundCloudInfo(nestedPlayer);\n        }\n\n        setSong({ ...songData, url });\n\n    }\n\n    function getYouTubeInfo(player) {\n        const duration = player.getDuration();\n        const { title, video_id, author } = player.getVideoData();\n        const thumbnail = `http://img.youtube.com/vi/${video_id}/0.jpg`;\n\n        return {\n            duration,\n            title,\n            artist: author,\n            thumbnail\n        }\n    }\n\n    function getSoundCloudInfo(player) {\n        return new Promise(resolve => {\n            player.getCurrentSound(songData => {\n                if (songData) {\n                    resolve({\n                        duration: Number(songData.duration / 1000),\n                        title: songData.title,\n                        artist: songData.user.username,\n                        thumbnail: songData.artwork_url.replace('-large', '-t500x500')\n                    })\n                }\n            });\n        })\n    }\n\n    async function handleAddSong() {\n        try {\n            //  addSong({ variables: { ...song } })\n            const { url, duration, title, artist, thumbnail } = song;\n            // addSong returns a  promise\n            await addSong({\n                variables: {\n                    url: url.length > 0 ? url : null, //check if properties aren't empty\n                    title: title.length > 0 ? title : null,\n                    artist: artist.length > 0 ? artist : null,\n                    thumbnail: thumbnail.length > 0 ? thumbnail : null,\n                    duration: duration > 0 ? duration : null\n                }\n            })\n\n            // When song is added: \n            //1. Close dialog\n            //2. Clear dialog and url\n            handleCloseDialog();\n            setSong(DEFAULT_SONG);\n            setUrl(\"\");\n        } catch (error) {\n            console.error(\"Error adding song\", error); // hasura throwing an error/ graphQL related error\n\n        }\n\n\n    }\n\n\n    function handleError(field) {\n        // Only if an error then I want to return computed graphQL value\n        // return error && error.graphQLErrors[0].extensions.path.includes(field);\n        return error?.graphQLErrors[0]?.extensions?.path.includes(field);\n    }\n\n    function handleChangeSong(e) {\n        const { name, value } = e.target;\n        setSong(prevSong => ({\n            ...prevSong,\n            [name]: value\n        }))\n    }\n\n    const { title, artist, thumbnail } = song;\n\n    return (\n        <div className={classes.container}>\n            <Dialog\n                className={classes.dialog}\n                open={dialog}\n                onClose={handleCloseDialog}\n            >\n                <DialogTitle>Edit Song</DialogTitle>\n                <DialogContent>\n                    <img\n                        src={thumbnail}\n                        alt=\"Song thumbnail\"\n                        className={classes.thumbnail}\n                    />\n                    <TextField\n                        onChange={handleChangeSong}\n                        margin=\"dense\"\n                        name=\"title\"\n                        label=\"Title\"\n                        value={title}\n                        fullWidth\n                        error={handleError('title')}\n                        helperText={handleError('title') && \"Fill out field\"}\n                    />\n                    <TextField\n                        onChange={handleChangeSong}\n                        margin=\"dense\"\n                        name=\"artist\"\n                        label=\"Artist\"\n                        value={artist}\n                        fullWidth\n                        error={handleError('artist')}\n                        helperText={handleError('artist') && \"Fill out field\"}\n                    />\n                    <TextField\n                        onChange={handleChangeSong}\n                        margin=\"dense\"\n                        name=\"thumbnail\"\n                        label=\"Thumbnail\"\n                        value={thumbnail}\n                        fullWidth\n                        error={handleError('thumbnail')}\n                        helperText={handleError('thumbnail') && \"Fill out field\"}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={handleCloseDialog}\n                        color=\"secondary\"\n                    >\n                        Cancel\n                    </Button>\n                    <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={handleAddSong}\n                    >\n                        Add Song\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <TextField\n                className={classes.urLInput}\n                onChange={handleUrlChange}\n                value={url}\n                placeholder=\"Add Youtube or Soundcloud url\"\n                fullWidth\n                margin=\"normal\"\n                type=\"url\"\n                InputProps={{\n                    startAdornment: (\n                        <InputAdornment position=\"start\">\n                            <Link />\n                        </InputAdornment>\n                    )\n                }}\n            />\n            <Button\n                // If the song isn't playable disable button\n                disabled={!playable}\n                className={classes.addSongButton}\n                onClick={handleDialog}\n                variant=\"contained\"\n                color=\"primary\"\n                endIcon={<AddBoxOutlined />}\n            >\n                Add\n            </Button>\n            <ReactPlayer url={url} hidden onReady={handleEditSong} />\n        </div>\n    )\n}\n\nexport default AddSong;","function songReducer(state, action) {\n    switch (action.type) {\n        case \"PLAY_SONG\":\n            return { ...state, isPlaying: true }\n        case \"PAUSE_SONG\":\n            return { ...state, isPlaying: false }\n        case \"SET_SONG\":\n            return {\n                ...state,\n                //replace song with a new song\n                song: action.payload.song,\n            }\n        default:\n            return state;\n    }\n}\n\nexport default songReducer;","import React, { useContext } from 'react';\nimport Header from './components/Header';\nimport SongPlayer from './components/SongPlayer';\nimport SongList from './components/SongList';\nimport AddSong from './components/AddSong';\nimport { Grid, useMediaQuery, Hidden } from '@material-ui/core';\nimport songReducer from './reducer';\n\n// Hide elements without conditions, using Hidden component\n// Wrap component in a Hidden comp and specify on it at what breakpoint I want to be hidden on\n\n\nexport const SongContext = React.createContext({\n  song: {\n    id: \"3561c605-d486-44cb-9bba-d1beeb641778\",\n    title: \"LUNE\",\n    artist: \"MOON\",\n    thumbnail: \"https://picsum.photos/id/237/100/100\",\n    duration: 250,\n    url: \"https://music.youtube.com/watch?v=--ZtUFsIgMk&feature=share\"\n  },\n  isPlaying: false\n});\n\nSongContext.displayName = \"SongContext\";\n\n\nfunction App() {\n\n  const initialSongState = React.useContext(SongContext);\n\n  const [state, dispatch] = React.useReducer(songReducer, initialSongState);\n\n  // Media query breakpoint, hook comes from material-ui library\n  // If min-width === 600px ? true : false \n  // const matches = useMediaQuery('(min-width: 600px)');\n\n  // I can use the theme data as well as its built-in values to set specific breakpoints (down, up)\n  const greaterThanSM = useMediaQuery(theme => theme.breakpoints.up('sm'));\n\n  const greaterThanMd = useMediaQuery(theme => theme.breakpoints.up('md'));\n\n  /* {greaterThanSM && <Header />} */\n  return (\n    <SongContext.Provider value={{ state, dispatch }} >\n      {/* <Hidden only=\"xs\">\n        <Header />\n      </Hidden> */}\n      <Grid container spacing={3}>\n        <Grid style={\n          {\n            paddingTop: greaterThanSM ? 80 : 10\n          }\n        } item xs={12} md={7}>\n          <AddSong />\n          <SongList />\n        </Grid>\n        <Grid\n          style={\n            greaterThanMd\n              ?\n              {\n                position: 'fixed',\n                width: '100%',\n                top: 70,\n                right: 0\n              }\n              : {\n                position: 'fixed',\n                width: '100%',\n                left: 0,\n                bottom: 0\n              }\n          }\n          item\n          xs={12}\n          md={5}>\n          <SongPlayer />\n        </Grid>\n      </Grid>\n    </SongContext.Provider>\n  )\n}\n\n\nexport default App;\n\n// Create a new GraphQL app [apollo music share] => deploy\n// ","import { createMuiTheme } from '@material-ui/core';\nimport { teal, purple } from '@material-ui/core/colors';\nimport { dark } from '@material-ui/core/styles/createPalette';\n\n//To make theme available for each react component will use react context hook\n\nconst theme = createMuiTheme({\n    palette: {\n        // In addition type property sets light/dark theme\n        type: \"dark\",\n        primary: teal,\n        secondary: purple\n    }\n})\n\nexport default theme;","import { ApolloClient, InMemoryCache, gql } from '@apollo/client';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { GET_QUEUED_SONGS } from './queries';\n\n// Mutation enables to add/remove items from the queue\n// TypeDefs(type definitions) property tells Apollo client about state I want to manage/ it creates a schema to tell apollo what I want to be querying, data itself, structure of data  and  mutations\n\n\n//Instead of type Song create a custom type \"input\" object that collects all of the individual arguments that I normally pass to mutation \n\nconst client = new ApolloClient({\n    link: new WebSocketLink({\n\n        uri: 'wss://welcome-chipmunk-46.hasura.app/v1/graphql',\n        options: {\n            reconnect: true,\n        }\n    }),\n    cache: new InMemoryCache(),\n    // Defined: what song data gonna consist of, how to query data and how to make changes to it\n\n    // GraphQL schema defines what types of data a client can read and write to my data graph\n    typeDefs: gql`\n    type Song {\n        id: uuid!,\n        title: String!,\n        artist: String!,\n        thumbnail: String!,\n        duration: Float!,\n        ulr: String!\n    }\n\n    input SongInput {\n        id: uuid!,\n        title: String!,\n        artist: String!,\n        thumbnail: String!,\n        duration: Float!,\n        ulr: String!\n    }\n\n    type Query {\n        queue: [Song]!,\n    }\n\n    type Mutation {\n        addOrRemoveFromQueue(input: SongInput): [Song]!\n    }\n    `,\n    resolvers: {\n        Mutation: {\n            addOrRemoveFromQueue: (_, { input }, { cache }) => {\n                // Read query\n                const queryResult = cache.readQuery({\n                    query: GET_QUEUED_SONGS\n                })\n\n                // Manage, update data\n                if (queryResult) {\n                    const { queue } = queryResult;\n                    const isInQueue = queue.some(song => song.id === input.id);\n\n                    const newQueue = isInQueue ?\n                        queue.filter(song => song.id !== input.id)\n                        : [...queue, input];\n\n                    // Write back to the query that we read from\n\n                    cache.writeQuery({\n                        query: GET_QUEUED_SONGS,\n                        data: {\n                            queue: newQueue,\n                        }\n                    })\n\n                    return newQueue;\n                }\n                return [];\n            }\n        }\n    }\n});\n\n\nclient.writeQuery({\n    query: gql`\n      query GetQueue {\n        queue\n      }\n    `,\n    data: {\n        queue: []\n    }\n});\n\n\n\n// const client = new ApolloClient({\n//     uri: 'https://welcome-chipmunk-46.hasura.app/v1/graphql',\n//     cache: new InMemoryCache()\n// });\n\nexport default client;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { MuiThemeProvider, CssBaseline } from '@material-ui/core';\nimport theme from './theme';\nimport { ApolloProvider } from '@apollo/client';\nimport client from './graphQL/client';\n\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <React.StrictMode>\n      <MuiThemeProvider theme={theme}>\n        {/* CssBaseline enables to have dark theme */}\n        <CssBaseline />\n        <App />\n      </MuiThemeProvider>\n    </React.StrictMode >\n  </ApolloProvider>,\n\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}